# Vespucci 0.9.9 "malenki" Highlights

This release is dedicated to the memory of Thomas Bellmann "malenki" an engaged OpenStreetMap contributor and Vespucci user.

## Indoor Mode

Long pressing the lock icon will cycle through

 * Normal editing mode
 * Tag only mode
 * Indoor editing mode
   
In indoor mode the displayed level can be changed with the up/down buttons, tapping the level display button will show everything that doesnâ€™t have a level tag (roughly, it is slightly more complicated than that). 
 
## Changed "Geometry Improvement Handle" behaviour
 
Geometry improvement handles on ways now work as they do with iD: 

 * Select way
 * Drag handle (default rendering is a red x)
 * Way remains selected
 * Drag handle
 * .. and so on ...
        
The tradeoff is that now more care has to be exercised when dragging ways.
	
## Tag based filter

The filter can be enable from the normal main menu, the filter can then be changed by tapping the filter icon. More documentation can be found on device or [here](https://github.com/MarcusWolschon/osmeditor4android/blob/master/documentation/docs/help/en/Tag%20filter.md).

## Scripting

Presets now support a "javascript" property that allows a script to manipulate tags, for example a "last_update" tag can be auto filled with the current date. Outside of the use in presets scripts can be run in an expanded mode via the "JS Console", this is currently of limited usefulness as there is no easy way to store and retrieve scripts, however it is intended to add that (and documentation) for release.

## Miscellaneous 

 * the "Find" search function now supports Photon based geocoders. The default configuration of the OSMF Nominatim and komoots Photon instances can be changed in the advanced preferences.
 * presets support a "deprecated" property that allows them to be matched for the map display and in the form-based tag editor, but they are not offered and found for new use.
 * support for opening a photo viewer in the adjacent window on Android N and later.
 * a lot of work has been done to make it easier to contribute to Vespucci, this includes migrating to the new standard Android project layout, making more operations available via gradle tasks and adding tests for a substantial part of the code.

The full change log is available [here](https://github.com/MarcusWolschon/osmeditor4android/commits/master)

# Known Problems

* Due to a change in the way Android N handles Uri that reference on device files it may not be possible to display photos that are not in the Vespucci folder.

# Upgrading from previous Versions

* The saved editing state file format has changed, please complete any edits before upgrading.
* For known problems with the beta build please see [our issue tracker](https://github.com/MarcusWolschon/osmeditor4android/issues)

